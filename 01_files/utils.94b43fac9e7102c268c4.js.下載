(self.miniJsonp=self.miniJsonp||[]).push([[1493],{96296:function(e,t,n){var r,o,a,i;e.exports=(r=n(37725),o=n(14906),a=n(58518),i=n(69483),function(){"use strict";var e={95:function(e,t,n){n.d(t,{D:function(){return u},t:function(){return s}});var r=n(661),o=n.n(r),a=n(480),i=!1,c=function(e,t){i=!0;var n=t||(0,a.CE)();o().init({lng:n,fallbackLng:n,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";i||c({resources:{}},e),o().changeLanguage(e),o().addResourceBundle(e,n,t,!0,!0)},s=o().t.bind(o())},480:function(e,t,n){n.d(t,{$S:function(){return P},CE:function(){return x},E3:function(){return C},H9:function(){return E},IE:function(){return L},JS:function(){return d},Jy:function(){return N},L6:function(){return Y},NJ:function(){return g},S1:function(){return u},Tb:function(){return y},Vm:function(){return R},X7:function(){return w},Y8:function(){return v},YH:function(){return b},Yc:function(){return l},dV:function(){return G},ef:function(){return T},jz:function(){return F},pM:function(){return S},qk:function(){return M},u7:function(){return A},xC:function(){return D},z$:function(){return p}});var r,o,a,i,c={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},u=function(e,t,n){r=e.toLowerCase(),o="liveish"===t?"live-test":"stable"===t?"test-stable":t,a=n,i=c[r]||"en"},s=["my","br","mx","co","ar"],_=["id","th"],f=["us"],l=function(e){return s.includes(e)?"com.".concat(e):_.includes(e)?"co.".concat(e):f.includes(e)?"com":e},E=function(e){return"tw"===e?"xiapi":e.toLowerCase()},d=function(e){return l(e)},T=function(){return"live"===o?"":"".concat(o,".")},S=function(){return"live"===o?"shopee":"".concat(o,".shopee")},p=function(){return"cn"===r},v=function(){return"kr"===r};function m(){return g()&&!p()}function g(){var e=window.location.hostname;return e&&e.includes("cn")}var O=function(e,t){return"seller"===e?"vn"!==t||m()?"seller":"banhang":e},h=function(e,t){var n,a=t?t.toLowerCase():r;return m()?function(e,t){var n=t?t.toLowerCase():r;return"".concat(O(e,n),".").concat(E(n),".").concat(S(),".").concat("cn")}(e,a):"".concat(O(e,a),".").concat((n=window.location.hostname,n&&n.includes("shopeebrasil")?"live"===o?"shopeebrasil":"".concat(o,".shopeebrasil"):S()),".").concat(d(a))},M=function(e){return h("seller",e)},P=function(e){var t=e?e.toLowerCase():r;return"seller-service.cs.".concat(S(),".").concat(d(t))},R=function(){return"".concat(M(),"/webchat/api")},C=function(){return"".concat(M(),"/api")},A=function(e){var t=e?e.toLowerCase():r;return"cn"!==t&&"kr"!==t||(t="my"),g()?"".concat(E(t),".").concat(T()).concat("xiapibuy.com"):"".concat(S(),".").concat(d(t))},y=function(){var e=r;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(S(),".").concat(d(e))},I=["sg","my","th","ph","vn","id","tw","br"],N=function(e){var t=e?e.toLowerCase():r;if(p())return"https://s-cf-sg.shopeesz.com/file/";if(v())return"https://cf.shopee.sg/file/";var n=I.includes(t);return m()&&n?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(l(t),"/file/")},G=function(e){var t=e?e.toLowerCase():r;return"tw"===t&&g()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(l(t),"/file/")},D=function(){return"https://".concat(h("seller"),"/webchat/conversations")},b=function(){return"https://".concat(h("seller"),"/webchat")},L=function(){return o},w=function(){return r},Y=function(){return a},x=function(){return i},F=function(){return g()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"}},994:function(e){e.exports=r},602:function(e){e.exports=o},661:function(e){e.exports=a},349:function(e){e.exports=i}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return function(){n.r(c),n.d(c,{AccountType:function(){return G},AlertType:function(){return L},ChatbotFromType:function(){return C},ConversationSource:function(){return A},ConversationTypeEnum:function(){return S},CustomShareEvent:function(){return B},DataFetchStatus:function(){return v},DiscountType:function(){return M},HIDDEN_PRICE_DISPLAY:function(){return Z},LS:function(){return Ve},MAX_MEDIA_NUM:function(){return a},MAX_Z_INDEX:function(){return Q},MINI_MIN_TEXT_BOX_HEIGHT:function(){return _},MessageErrorCode:function(){return o},MessageOption:function(){return e},MessageSendStatus:function(){return r},MessageShortcutGroupType:function(){return i},MessageSource:function(){return y},MessageTypes:function(){return t},OfferStatus:function(){return h},OperationStatus:function(){return m},ReturnCardStatus:function(){return u},ReturnSolution:function(){return s},RewardType:function(){return P},ShareDataType:function(){return H},SocketConnectionStatus:function(){return R},SocketToAlertType:function(){return w},StartChatErrorCode:function(){return b},SubAccountRole:function(){return N},SwitchStatus:function(){return g},TrackerOperation:function(){return D},TranslationStatus:function(){return O},UnreadSource:function(){return I},addSymbol:function(){return X},capitalizeFirstLetter:function(){return De},changeLanguage:function(){return Sn.D},checkEmptyObject:function(){return j},checkMiniUnrepliedGuide:function(){return He},cnDomainHash:function(){return $t.H9},compareSameDayOfTimestamp:function(){return de},customizeTime:function(){return _e},debounce:function(){return Fe},defaultLocalInMall:function(){return U},detectTextAndTimestamp:function(){return un},domainHash:function(){return $t.Yc},domainPrefix:function(){return $t.pM},domainSuffix:function(){return $t.JS},envPrefix:function(){return $t.ef},escapeRegex:function(){return en},fillMessagePreview:function(){return Xt},formatDiscountText:function(){return fn},formatMessageTime:function(){return Ee},formatPrice:function(){return $},formatRuleText:function(){return dn},formatSinglePrice:function(){return ee},formatTransifyKeyWithNumber:function(){return Re},getApiServer:function(){return $t.Vm},getCDNUrl:function(){return $t.jz},getChatBotParams:function(){return Kt},getCrmPreviewParams:function(){return Wt},getCurrentTimestampString:function(){return tn},getCustomMessageText:function(){return xt},getFileServer:function(){return $t.Jy},getFormattedTime:function(){return le},getHasSameSourceAndTarget:function(){return qt},getItem:function(){return qe},getLocaleText:function(){return Vt},getMallUrl:function(){return $t.u7},getMallUrlIgnoreCn:function(){return $t.Tb},getMessageIsSend:function(){return Zt},getRRMessageTitle:function(){return Jt},getRuntimeLocale:function(){return $t.CE},getRuntimeRegion:function(){return $t.X7},getRuntimeServer:function(){return $t.IE},getRuntimeVersion:function(){return $t.L6},getSCApiServer:function(){return $t.E3},getSellerCenterUrl:function(){return $t.qk},getSellerServiceUrl:function(){return $t.$S},getServiceLocale:function(){return xe},getSystemMessageByLocale:function(){return zt},getTranslatedText:function(){return Tn},getTranslationLocale:function(){return we},getUrlParam:function(){return Ce},getVideoServer:function(){return $t.dV},getWebChatPureUrl:function(){return $t.YH},getWebChatUrl:function(){return $t.xC},greaterThan:function(){return q},handleDisplayTranslation:function(){return nn},hasTargetMessageOption:function(){return Qt},init:function(){return $t.S1},isDeletedMessage:function(){return jt},isVisitingCNSC:function(){return $t.z$},isVisitingCn:function(){return $t.NJ},isVisitingKRSC:function(){return $t.Y8},localeInMallToTspLocale:function(){return k},newFormatMessageTime:function(){return Se},persistLimit:function(){return ze},previewMessage:function(){return Ht},removeItem:function(){return We},setItem:function(){return Ke},simpleEqualCheck:function(){return V},throttle:function(){return Ue},unifyLocale:function(){return Le},updateTimeLocale:function(){return ae}});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate"},r={SENDING:1,FAILED:2,SUCCEED:3},o={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,DEFAULT:-1},a=9,i={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var u,s,_=88;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function l(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function E(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(u||(u={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(s||(s={}));var S,p={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},v=T(T({},p),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),m=T(T({},p),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),g={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},O={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},h={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},M={AMOUNT:"amount",PERCENTAGE:"percentage"},P={DISCOUNT:"discount",COIN_CASHBACK:"coin_cashback"},R={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(S||(S={}));var C,A={SYNC:4},y={SEND:7},I={PRELOAD:1},N={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},G={SELLER:"seller",SUBACCOUNT:"subaccount"},D={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(C||(C={}));var b,L={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},w={pending:L.warn,error:L.error,resolved:L.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(b||(b={}));var Y,x,F,U={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},k={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},B={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},H={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},Q=199999,j=function(e){return!e||0===Object.keys(e).length},V=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},q=function(e,t){if(!e)return!1;if(!t)return!0;var n=(e+="").length,r=(t+="").length;if(n!==r)return n>r;var o=e.split(""),a=null;return o.forEach((function(e,n){"boolean"!=typeof a&&(a=parseInt(e)>parseInt(t[n])||parseInt(e)===parseInt(t[n])&&null)})),!!a},K=n(994),W=["PL","ES","FR"],z=function(e){return e?e.toUpperCase():"SG"},X=function(e){var t=e.price,n=e.country,r=function(e){return"CL"===e?"$":(0,K.getCurrencyConfig)(e).symbol||""}(n);if(W.includes(n))return"".concat(r).concat(t).concat(r);var o=(0,K.getCurrencyConfig)(n).symbolPosition===K.SYMBOL_POSITION.BACK?"".concat(t).concat(r):"".concat(r).concat(t);return"MX"===n?"".concat(o," MXN"):o},J=function(e){for(var t="",n=+e,r=["K","M","B"];n>1e3&&(t=r.shift()||"");)n/=1e3;var o=parseInt(100*+n+"")/100;return{value:n=Number.isInteger(o)?o:o.toFixed(2),unit:t}},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.withSpaces,o=void 0!==r&&r,a=n.withMinus,i=void 0!==a&&a,c=n.withUnit,u=void 0!==c&&c,s=n.withComma,_=void 0===s||s,f=z(t),l=Number(e);if(Number.isNaN(l))return X({price:"NaN",country:f});var E="",d="";if(u){var T=J(l);E=T.unit,l=T.value}return i&&(d="-"),l=(0,K.formatCurrency)(f,l,{symbol:"",spaceBetweenSymbol:o,noSeparator:!_}),l=X({price:l,country:f}),"".concat(d).concat(l).concat(E)},Z="???",ee=function(e,t){if(!e)return e;var n=$(e,t);return n.includes("NaN")&&(n=n.replace("NaN",Z)),n},te=n(602),ne=n.n(te),re=n(95).t,oe=new(ne()),ae=function(e){return oe.locale.set(e)},ie=function(e){return e.format("hh:mm")};!function(e){e.Today="today",e.Yesterday="yesterday"}(Y||(Y={})),function(e){e[e.Time=0]="Time"}(x||(x={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(F||(F={}));var ce,ue=function(e){var t=e.value,n=e.date,r=e.suffix,o=e.prefix,a="",i="";if(o&&(a=re("conversation_detail.message_list.".concat(o.type))+(void 0===o.separator?"  ":o.separator)),r){var c=r.type===x.Time?ie(n):"";i=(void 0===r.separator?", ":r.separator)+c}return a+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(ce||(ce={}));var se=864e5,_e=function(e,t){var n=t||{},r=n.noTodayFlag,o=n.noTimeFlag,a=n.needFullFormat,i=n.onlyKeepDate,c=n.isConvPreview,u=oe.create(e);if(a)return ue({value:u.format("LHD"),date:u,suffix:{type:x.Time}});if(i)return u.format("LHD");var s=["tw","cn"].includes(oe.locale.current),_=function(e,t){var n=new Date,r=new Date(e);if(t){var o=n-r,a=(new Date).setHours(0,0,0,0);if(o<=6048e5&&o>=se+(n.getTime()-a))return ce.ThisWeek}if(n.getFullYear()===r.getFullYear()){if(n.getMonth()===r.getMonth()){var i=n.getDate(),c=r.getDate();return i===c?ce.Today:i-1===c?ce.Yesterday:ce.ThisMonth}return ce.ThisYear}return ce.NONE}(e,c);switch(_){case ce.Today:var f=r?void 0:{type:Y.Today},l={type:x.Time,separator:""};return ue({value:"",date:u,prefix:f,suffix:l});case ce.Yesterday:var E={type:Y.Yesterday},d=o?void 0:{type:x.Time,separator:""};return ue({value:"",date:u,prefix:E,suffix:d});case ce.ThisWeek:return re("common.".concat(F[new Date(e).getDay()]));case ce.ThisMonth:case ce.ThisYear:var T=o?void 0:{type:x.Time};return ue({value:u.format(c?s?"MM/DD":"DD/MM":"LHDS"),date:u,suffix:T});default:var S=o?void 0:{type:x.Time};return ue({value:u.format(c?s?"YY/MM/DD":"DD/MM/YY":"LHD"),date:u,suffix:S})}},fe="YYYY-MM-DD hh:mm",le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oe.create(e).format(t||fe)},Ee=function(e){var t=e.created_at,n=e.created_timestamp;return _e(t||1e3*n,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},de=function(e,t){return oe.create(e).format("LHD")===oe.create(t).format("LHD")},Te={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},Se=function(e,t){var n=1e3*e;switch(t){case"time":var r=oe.create(n);return ie(r);case"date":var o=new Date,a=new Date(n);if(o.getFullYear()===a.getFullYear()){if(o.getMonth()===a.getMonth()){var i=o.getDate(),c=a.getDate();if(i===c)return re("conversation_detail.message_list.today");if(i-1===c)return re("conversation_detail.message_list.yesterday");if(i-c<7){var u=a.getDay();return re("common.".concat(Te[u]))}return oe.create(n).format("LHDS")}return oe.create(n).format("LHDS")}return oe.create(n).format("LHD")}},pe=n(661),ve=n.n(pe),me=function(e){return 0===e||1===e?"one":e>=1e6?"many":"other"},ge=function(e){return 1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other"},Oe=function(e){return e<=1?"one":"other"},he={fr:me,pl:ge,default:Oe},Me={fr:function(e,t){return"".concat(me(e),".").concat(me(t))},pl:function(e,t){return"".concat(ge(e),".").concat(ge(t))},default:function(e,t){return"".concat(Oe(e),"_").concat(Oe(t))}},Pe=["fr","pl"],Re=function(e,t,n){var r=ve().language||"en",o=Pe.includes(r)?r:"default";return void 0!==n?"".concat(e,"_").concat(Me[o](t,n)):"".concat(e,"_").concat(he[o](t))},Ce=function(e,t){var n=t||window.location.search,r=null;if(n){var o=n.indexOf("?")+1,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");r=n.substr(o).match(a)}return r?unescape(r[2]):null};function Ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie,Ne=["hans","hant"],Ge=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],De=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1))},be=function(e){if(e.includes("-")){var t=e.split("-");return Ne.includes(t[1])?"".concat(t[0],"-").concat(De(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},Le=function(e){var t,n=(e||"en").toLowerCase(),r="en",o=Ae(Ge);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.includes(n)){r=be(a);break}}}catch(e){o.e(e)}finally{o.f()}return r},we=function(e){var t=Le(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},Ye={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},xe=function(e){var t=Le(e);return Ye[t]||"default"},Fe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now();return function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];t&&(clearTimeout(t),t=null),Date.now()-o>r?(e.apply(void 0,i),o=Date.now()):t=window.setTimeout((function(){e.apply(void 0,i),o=Date.now()}),n)}},Ue=function(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null,c=0,u=function(){c=!1===a.leading?0:(new Date).getTime(),i=null,o=e.apply(n,r),i||(n=r=null)},s=function(){var s=(new Date).getTime();c||!1!==a.leading||(c=s);var _=t-(s-c);n=this;for(var f=arguments.length,l=new Array(f),E=0;E<f;E++)l[E]=arguments[E];return r=l,_<=0||_>t?(i&&(clearTimeout(i),i=null),c=s,o=e.apply(n,r),i||(n=r=null)):i||!1===a.trailing||(i=window.setTimeout(u,_)),o};return s},ke="MiniChat-Unreplied-Filter",Be="modal",He=function(e){return function(e,t){var n=t.superType,r=t.secondaryType,o=e.find((function(e){return e.name===n}));if(o){var a=o.children;return a.length&&a.find((function(e){return e.name===r}))||!1}return!1}(e,{superType:ke,secondaryType:Be})},Qe=n(349),je=n.n(Qe),Ve={getItem:function(e,t){try{var n=window.localStorage.getItem(e);return null==n?n:t?JSON.parse(n):n}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:function(e,t,n){try{var r=n?JSON.stringify(t):t;window.localStorage.setItem(e,r)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},qe=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Ve.getItem(e):je().getItem(e)},Ke=function(e,t){return je().setItem(e,t)},We=function(e,t){return t?Ve.removeItem(e):je().removeItem(e)},ze=je().supports(je().INDEXEDDB)||je().supports(je().WEBSQL)?1e3:100,Xe=n(95).t;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=t.MSG_TYPE_TEXT,et=t.MSG_TYPE_IMAGE,tt=t.MSG_TYPE_OFFER,nt=t.MSG_TYPE_PRODUCT,rt=t.MSG_TYPE_ORDER,ot=t.MSG_TYPE_STICKER,at=t.MSG_TYPE_NOTIFICATION,it=t.MSG_TYPE_VOUCHER,ct=t.MSG_TYPE_ITEM_LIST,ut=t.MSG_TYPE_FAQ,st=t.MSG_TYPE_FAQ_QUESTION,_t=t.MSG_TYPE_FAQ_LIVEAGENT,ft=t.MSG_TYPE_FAQ_FEEDBACK,lt=t.MSG_TYPE_FAQ_UNSUPPORTED,Et=t.MSG_TYPE_FAQ_FEEDBACK_PROMPT,dt=t.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,Tt=t.MSG_TYPE_BUNDLE_MESSAGE,St=t.MSG_TYPE_OPTION_PACK,pt=t.MSG_TYPE_SELECTED_OPTION,vt=t.MSG_TYPE_VIDEO,mt=t.MSG_TYPE_IMAGE_WITH_TEXT,gt=t.MSG_TYPE_RATE_CARD,Ot=t.MSG_TYPE_NEW_FAQ,ht=t.MSG_TYPE_FAQ_CATEGORY_CHOICE,Mt=t.MSG_TYPE_FAQ_QUESTION_LIST,Pt=t.MSG_TYPE_FAQ_TYPE_CHOICE,Rt=t.MSG_TYPE_FAQ_CATEGORY_LIST,Ct=t.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE,At=t.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE,yt=t.FAQ_TYPE_BOT_RESPONSE_MESSAGE,It=t.MSG_TYPE_SHOPPING_CART,Nt=t.MSG_TYPE_CRM_ITEM_LIST,Gt=t.MSG_TYPE_RR,Dt=t.MSG_TYPE_CRM_ORDER_RATE,bt=h.PENDING,Lt=h.REJECTED,wt="common.unsupported_message",Yt=(E(Ie={},_t,"faq.live_agent"),E(Ie,lt,"faq.new_unsupport_input"),E(Ie,Et,"faq.feedback_prompt"),E(Ie,dt,"faq.new_live_agent_prompt"),E(Ie,vt,"conversation_detail.input_field.toolbar.video.tip"),E(Ie,mt,"conversation_list.conversation_cell.new_image_message"),Ie),xt=function(e){return Xe(Yt[e]||wt)},Ft=[ct],Ut=[vt,lt,Et,dt,mt],kt=[et,Tt,At,tt,nt,rt,it,gt,ot],Bt=[Mt,Pt,Rt],Ht=function(t){var n=t.message,r=t.enableTranslation,o=t.locale,a=t.conversationShopId,i=t.currentSellerAccountId;if(!n)return{text:Xe(wt)};var c=n.type,u=n.content,s=void 0===u?{}:u,_=n.crm_message_preview,f=void 0===_?{}:_,l=n.message_option,E=n.source,d=n.send_status,T=n.custom_preview_text,S=we(o);if(f.text)return{text:Tn(f,S)};if(null!=s&&s.preview_text&&c===yt)return{text:s.preview_text};if(Qt(l,e.MSG_OPT_CENSORED_BLACKLIST))return{text:Xe("common.blacklist.replaced_text")};if(c){var p,v,m=s||{},g=m.text,O=void 0===g?"":g,h=m.title,M=m.opening,P=m.caption,R=m.translation,C=m.product_name,A=m.sticker_name,y=m.chat_product_infos,I=void 0===y?[]:y,N=m.products,G=void 0===N?[]:N,D=m.rr_detail,b=m.user_id,L=Zt(n,{isAgent:!1,shop_id:a}),w=function(e,t,n,r){var o,a=t||{},i=a.live_agent_text,c=void 0===i?[]:i,u=a.fixed_title,s=a.faq_type_choice_translation;if(Ut.includes(e))o=c.length?Vt(c,n):xt(e);else if(Bt.includes(e))o=Vt(e===Pt?s:u,n);else{var _=kt.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):Ft.includes(e)?"common.tips.recommended".concat(r?"":"_for_you"):"";o=_?"[".concat(Xe(_),"]"):Xe(wt)}return o}(c,s,o,L);switch(c){case Ot:case ut:v=M||Xe("faq.no_set.chat_bot_title");break;case Ze:if(L)v=O;else{var Y=qt(s);v=!r||Y||l===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(E)||2===d?O:(null==R?void 0:R.text)||O}break;case _t:case st:case ft:case pt:case St:case ht:case Ct:v=O||h;break;case vt:v="[".concat(w,"]");break;case mt:v="[".concat(w,"] ").concat(P||h||O);break;case lt:case Et:case dt:case Mt:case Pt:case Rt:v=w;break;case nt:v="".concat(w," ").concat(C);break;case ot:v=A?"[".concat(A,"]"):w;break;case ct:var x=I.map((function(e){return e.name})).join("; ");v="".concat(w," ").concat(x);break;case at:var F=zt(s||{},o),U=F.notification_for_sender,k=F.notification_for_receiver,B=F.notifications_for_sender_hyperlink,H=F.notifications_for_receiver_hyperlink;v="rr_entrance"===s.notification_type?L?B:H:L?U:k;break;case gt:v="".concat(w," ").concat(Xe(L?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case tt:var Q=s||{},j=Q.status,V=Q.products_count,q=Q.offer_price;if(j)if(j===bt){var K=Xe("conversation_list.preview.offer_pending_".concat(L?"sender":"receiver"));v="".concat(w," ").concat(K,": ").concat(q," x ").concat(V),L||(p=!0)}else{var W=j===Lt?"declined":j;v="".concat(w," ").concat(Xe("conversation_detail.workstation.offer_panel.".concat(W)))}else v=w;break;case rt:v="".concat(w," ").concat(G.map((function(e){return e.title})).join("; "));break;case it:var z=s||{},X=z.type,J=z.rule_text,$=z.discount_text;if(X){var Z="[".concat(Xe("conversation_detail.workstation.voucher_panel.".concat(X,"_voucher")),"]");v="".concat(Z," ").concat($,", ").concat(J)}else v=w;break;case It:v=Xe("message.cart_reminder");break;case Nt:var ee,te,ne,re=null!==(ee=null==s?void 0:s.title)&&void 0!==ee?ee:{};v=(null===(te=re.translated_with_lang)||void 0===te||null===(ne=te.find((function(e){return e.language===we(o)})))||void 0===ne?void 0:ne.text)||re.text||Xe(wt);break;case Gt:var oe=D.solution,ae=D.status,ie=Jt({isBuyer:i===b,solution:oe,status:ae});v="[".concat(Xe("label.return_and_refund"),"]").concat(ie);break;case Dt:var ce,ue;v=(null==T||null===(ce=T.translated_text)||void 0===ce||null===(ue=ce.find((function(e){return e.translated_language===we(o)})))||void 0===ue?void 0:ue.translated_text)||(null==T?void 0:T.text)||Xe(wt),v=Tn(T,S)||Xe(wt);break;default:v=w}return{text:v,isPendingReceivedOffer:p}}return{text:Xe(wt)}},Qt=function(e,t){return(e&t)===t},jt=function(){return Qt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message_option,e.MSG_OPT_DELETE)},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return we(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())}))||e.find((function(e){return"en"===e.lang}));return(n||{}).text},qt=function(e){var t=e||{},n=t.translation,r=t.mid;if(!n)return!0;var o=(void 0===r?{}:r).source_language,a=void 0===o?"":o,i=n||{},c=i.final,u=i.mid,s=i.target_language,_=void 0===s?"":s,f=i.source_language,l=void 0===f?"":f,E=c?c.target_language:_,d=c?c.source_language:l,T=u?u.source_language:a;return T?T===E:d===E&&"unknown"!==d},Kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateMaxGeneralOptionHideTime,r=void 0===n||n,o=t.updateMessageOption,a=void 0===o||o,i=e||{},c=i.created_timestamp,u=i.message_option,s=a?{last_message_option:u}:{};return $e($e({},r?{max_general_option_hide_time:c}:{}),s)},Wt=function(e){var t=e.crm_message_preview,n=void 0===t?{}:t;return n.text?{crm_message_preview:n}:{crm_message_preview:{}}},zt=function(e,t){var n=e.noti_text_of_all_languages,r=void 0===n?[]:n;if(!r.length)return e;var o=r.find((function(e){return we(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())}));if(o)return o;var a=r.find((function(e){return"en"===e.language}));return a||e},Xt=function(e){var t=e.type,n=e.textContent,r=e.content,o={};switch(t){case rt:o={products:(n||{}).products};break;case it:var a=n||{};o={rule_text:a.rule_text,discount_text:a.discount_text,type:a.type};break;case tt:var i=n||{};o={status:i.status,products_count:i.products_count,offer_price:i.offer_price};break;case nt:o={product_name:r.product_name||(null==n?void 0:n.name)}}return $e($e({},e),{},{content:$e($e({},r),o)})},Jt=function(e){var t=e.isBuyer,n=e.status,r=e.solution===s.Return?"return":"return_refund",o=n===u.Submit?"proposed":n===u.Refund?"succeed":"rejected";return Xe("rr_message_title.".concat(t?"buyer":"seller",".").concat(r,".").concat(o))},$t=n(480),Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isAgent,r=t.to_tob_user_id,o=t.shop_id,a=e.from_id,i=e.to_shop_id;return n?a!==r:i!==o},en=function(e){return e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&")},tn=function(){return Math.ceil(Date.now()/1e3).toString()},nn=function(e,t,n,r){return t?e:e||r&&!!n},rn=function(e){return"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px")},on=function(e){var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},an=function(e,t,n){var r=document.createElement("pre"),o=rn(e);if(r.id="chat-text-pre",r.setAttribute("style",o),r.innerText=t,n){var a=on(n);r.appendChild(a)}return r},cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";document.body.appendChild(e);var n=e.getBoundingClientRect(),r="height"===t?n.height:n.width;return document.body.removeChild(e),r},un=function(e,t,n){var r=an(n,e),o=on(t),a=an(n,e,t),i=cn(r);return{conflict:i!==cn(a),multiLine:i>38,timeWidth:cn(o,"width"),widthConflict:cn(a,"width")>cn(r,"width")}},sn=n(95).t,_n=function(e,t){return"tw"===e.toLowerCase()&&t===P.COIN_CASHBACK},fn=function(e){var t=e.country,n=e.reward,r=n.value,o=n.type,a=n.discount_type===M.PERCENTAGE?"".concat(r,"% ").concat(_n(t,o)?"":sn("common.label.off")):$(r,t);return o===P.COIN_CASHBACK&&(a="".concat(a," ").concat(sn("conversation_detail.workstation.voucher_panel.coins_cashback"))),a},ln=function(e,t){return $(e,t,{withUnit:e>=1e4})},En="message.voucher.rule",dn=function(e){var t=e.country,n=e.min_basket_size,r=e.reward,o=r.max_capped_amount,a=r.type,i=ln(n,t),c=sn("".concat(En,".min_spend"),{spend:i});return"number"==typeof o&&(c=_n(t,a)?sn("".concat(En,".min_spend_max_cap_tw"),{spend:i,cap:o}):sn("".concat(En,".min_spend_max_cap"),{spend:i,cap:ln(o,t)})),c},Tn=function(e,t){var n,r,o,a;return(null==e||null===(n=e.translated_with_lang)||void 0===n||null===(r=n.find((function(e){return e.language===t})))||void 0===r?void 0:r.text)||(null==e||null===(o=e.translated_text)||void 0===o||null===(a=o.find((function(e){return e.translated_language===t})))||void 0===a?void 0:a.translated_text)||(null==e?void 0:e.text)||""},Sn=n(95)}(),c}())},29494:function(e,t,n){"use strict";e.exports=n(96296)}}]);