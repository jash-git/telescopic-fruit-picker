(self.miniJsonp=self.miniJsonp||[]).push([[1493],{66069:function(e,t,r){var a;a=(e,t,r,a)=>(()=>{"use strict";var n={95:(e,t,r)=>{r.d(t,{D:()=>i,t:()=>_});var a=r(661),n=r.n(a),o=r(480),c=!1,i=(e,t,r="common")=>{c||((e,t)=>{c=!0;var r=t||(0,o.CE)();n().init({lng:r,fallbackLng:r,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})})({resources:{}},e),n().changeLanguage(e),n().addResourceBundle(e,r,t,!0,!0)},_=n().t.bind(n())},480:(e,t,r)=>{r.d(t,{$S:()=>R,CE:()=>x,E3:()=>h,H9:()=>d,IE:()=>b,JS:()=>T,Jy:()=>y,L6:()=>Y,NJ:()=>g,S1:()=>_,Tb:()=>I,Vm:()=>C,X7:()=>w,Y8:()=>m,YH:()=>L,Yc:()=>E,dV:()=>G,ef:()=>S,jz:()=>F,pM:()=>p,qk:()=>M,u7:()=>A,xC:()=>D,z$:()=>f});var a,n,o,c,i={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},_=(e,t,r)=>{a=e.toLowerCase(),n="liveish"===t?"live-test":"stable"===t?"test-stable":t,o=r,c=i[a]||"en"},s=["my","br","mx","co","ar"],l=["id","th"],u=["us"],E=e=>s.includes(e)?"com.".concat(e):l.includes(e)?"co.".concat(e):u.includes(e)?"com":e,d=e=>"tw"===e?"xiapi":e.toLowerCase(),T=e=>E(e),S=()=>"live"===n?"":"".concat(n,"."),p=()=>"live"===n?"shopee":"".concat(n,".shopee"),f=()=>"cn"===a,m=()=>"kr"===a;function O(){return g()&&!f()}function g(){var e=window.location.hostname;return e&&e.includes("cn")}var v=(e,t)=>"seller"===e?"vn"!==t||O()?"seller":"banhang":e,P=(e,t)=>{var r,o=t?t.toLowerCase():a;return O()?((e,t)=>{var r=t?t.toLowerCase():a;return"".concat(v(e,r),".").concat(d(r),".").concat(p(),".").concat("cn")})(e,o):"".concat(v(e,o),".").concat((r=window.location.hostname,r&&r.includes("shopeebrasil")?"live"===n?"shopeebrasil":"".concat(n,".shopeebrasil"):p()),".").concat(T(o))},M=e=>P("seller",e),R=e=>{var t=e?e.toLowerCase():a;return"seller-service.cs.".concat(p(),".").concat(T(t))},C=()=>"".concat(M(),"/webchat/api"),h=()=>"".concat(M(),"/api"),A=e=>{var t=e?e.toLowerCase():a;return"cn"!==t&&"kr"!==t||(t="my"),g()?"".concat(d(t),".").concat(S()).concat("xiapibuy.com"):"".concat(p(),".").concat(T(t))},I=()=>{var e=a;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(p(),".").concat(T(e))},N=["sg","my","th","ph","vn","id","tw","br"],y=e=>{var t=e?e.toLowerCase():a;if(f())return"https://s-cf-sg.shopeesz.com/file/";if(m())return"https://cf.shopee.sg/file/";var r=N.includes(t);return O()&&r?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(E(t),"/file/")},G=e=>{var t=e?e.toLowerCase():a;return"tw"===t&&g()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(E(t),"/file/")},D=()=>"https://".concat(P("seller"),"/webchat/conversations"),L=()=>"https://".concat(P("seller"),"/webchat"),b=()=>n,w=()=>a,Y=()=>o,x=()=>c,F=()=>g()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"},994:t=>{t.exports=e},602:e=>{e.exports=t},661:e=>{e.exports=r},349:e=>{e.exports=a}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,c),r.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{c.r(i),c.d(i,{AccountType:()=>y,AlertType:()=>L,ChatbotFromType:()=>C,ConversationSource:()=>h,ConversationTypeEnum:()=>S,CustomShareEvent:()=>k,DataFetchStatus:()=>f,DiscountType:()=>P,HIDDEN_PRICE_DISPLAY:()=>X,LS:()=>we,MAX_MEDIA_NUM:()=>n,MAX_Z_INDEX:()=>H,MINI_MIN_TEXT_BOX_HEIGHT:()=>l,MessageErrorCode:()=>a,MessageOption:()=>e,MessageSendStatus:()=>r,MessageShortcutGroupType:()=>o,MessageSource:()=>A,MessageTypes:()=>t,OfferStatus:()=>v,OperationStatus:()=>m,ReturnCardStatus:()=>_,ReturnSolution:()=>s,RewardType:()=>M,ShareDataType:()=>B,SocketConnectionStatus:()=>R,SocketToAlertType:()=>b,StartChatErrorCode:()=>D,SubAccountRole:()=>N,SwitchStatus:()=>O,TrackerOperation:()=>G,TranslationStatus:()=>g,UnreadSource:()=>I,addSymbol:()=>W,capitalizeFirstLetter:()=>Re,changeLanguage:()=>nr.D,checkEmptyObject:()=>Q,checkMiniUnrepliedGuide:()=>De,cnDomainHash:()=>Ht.H9,compareSameDayOfTimestamp:()=>se,customizeTime:()=>ce,debounce:()=>ye,defaultLocalInMall:()=>F,detectTextAndTimestamp:()=>Xt,domainHash:()=>Ht.Yc,domainPrefix:()=>Ht.pM,domainSuffix:()=>Ht.JS,envPrefix:()=>Ht.ef,escapeRegex:()=>jt,fillMessagePreview:()=>kt,formatDiscountText:()=>Zt,formatMessageTime:()=>_e,formatPrice:()=>z,formatRuleText:()=>rr,formatSinglePrice:()=>J,formatTransifyKeyWithNumber:()=>ge,getApiServer:()=>Ht.Vm,getCDNUrl:()=>Ht.jz,getChatBotParams:()=>xt,getCrmPreviewParams:()=>Ft,getCurrentTimestampString:()=>Vt,getCustomMessageText:()=>At,getFileServer:()=>Ht.Jy,getFormattedTime:()=>ie,getHasSameSourceAndTarget:()=>Yt,getItem:()=>Ye,getLocaleText:()=>wt,getMallUrl:()=>Ht.u7,getMallUrlIgnoreCn:()=>Ht.Tb,getMessageIsSend:()=>Qt,getRRMessageTitle:()=>Bt,getRuntimeLocale:()=>Ht.CE,getRuntimeRegion:()=>Ht.X7,getRuntimeServer:()=>Ht.IE,getRuntimeVersion:()=>Ht.L6,getSCApiServer:()=>Ht.E3,getSellerCenterUrl:()=>Ht.qk,getSellerServiceUrl:()=>Ht.$S,getServiceLocale:()=>Ne,getSystemMessageByLocale:()=>Ut,getTranslatedText:()=>ar,getTranslationLocale:()=>Ae,getUrlParam:()=>ve,getVideoServer:()=>Ht.dV,getWebChatPureUrl:()=>Ht.YH,getWebChatUrl:()=>Ht.xC,greaterThan:()=>V,handleDisplayTranslation:()=>qt,hasTargetMessageOption:()=>Lt,init:()=>Ht.S1,isDeletedMessage:()=>bt,isVisitingCNSC:()=>Ht.z$,isVisitingCn:()=>Ht.NJ,isVisitingKRSC:()=>Ht.Y8,localeInMallToTspLocale:()=>U,newFormatMessageTime:()=>ue,persistLimit:()=>Ue,previewMessage:()=>Dt,removeItem:()=>Fe,setItem:()=>xe,simpleEqualCheck:()=>j,throttle:()=>Ge,unifyLocale:()=>he,updateTimeLocale:()=>re});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate"},r={SENDING:1,FAILED:2,SUCCEED:3},a={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,DEFAULT:-1},n=9,o={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var _,s,l=88;function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!==u(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(_||(_={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(s||(s={}));var S,p={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},f=T(T({},p),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),m=T(T({},p),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),O={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},g={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},v={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},P={AMOUNT:"amount",PERCENTAGE:"percentage"},M={DISCOUNT:"discount",COIN_CASHBACK:"coin_cashback"},R={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(S||(S={}));var C,h={SYNC:4},A={SEND:7},I={PRELOAD:1},N={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},y={SELLER:"seller",SUBACCOUNT:"subaccount"},G={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(C||(C={}));var D,L={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},b={pending:L.warn,error:L.error,resolved:L.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(D||(D={}));var w,Y,x,F={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},U={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},k={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},B={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},H=199999,Q=e=>!e||0===Object.keys(e).length,j=(e,t)=>JSON.stringify(e)===JSON.stringify(t),V=(e,t)=>{if(!e)return!1;if(!t)return!0;var r=(e+="").length,a=(t+="").length;if(r!==a)return r>a;var n=e.split(""),o=null;return n.forEach(((e,r)=>{"boolean"!=typeof o&&(o=parseInt(e)>parseInt(t[r])||parseInt(e)===parseInt(t[r])&&null)})),!!o},q=c(994),K=["PL","ES","FR"],W=e=>{var{price:t,country:r}=e,a=(e=>"CL"===e?"$":(0,q.getCurrencyConfig)(e).symbol||"")(r);if(K.includes(r))return"".concat(a).concat(t).concat(a);var n=(0,q.getCurrencyConfig)(r).symbolPosition===q.SYMBOL_POSITION.BACK?"".concat(t).concat(a):"".concat(a).concat(t);return"MX"===r?"".concat(n," MXN"):n},z=(e,t,r={})=>{var{withSpaces:a=!1,withMinus:n=!1,withUnit:o=!1,withComma:c=!0}=r,i=(e=>e?e.toUpperCase():"SG")(t),_=Number(e);if(Number.isNaN(_))return W({price:"NaN",country:i});var s="",l="";if(o){var u=(e=>{for(var t="",r=+e,a=["K","M","B"];r>1e3&&(t=a.shift()||"");)r/=1e3;var n=parseInt(100*+r+"")/100;return{value:r=Number.isInteger(n)?n:n.toFixed(2),unit:t}})(_);s=u.unit,_=u.value}return n&&(l="-"),_=(0,q.formatCurrency)(i,_,{symbol:"",spaceBetweenSymbol:a,noSeparator:!c}),_=W({price:_,country:i}),"".concat(l).concat(_).concat(s)},X="???",J=(e,t)=>{if(!e)return e;var r=z(e,t);return r.includes("NaN")&&(r=r.replace("NaN",X)),r},$=c(602),Z=c.n($),ee=c(95).t,te=new(Z()),re=e=>te.locale.set(e),ae=e=>e.format("hh:mm");!function(e){e.Today="today",e.Yesterday="yesterday"}(w||(w={})),function(e){e[e.Time=0]="Time"}(Y||(Y={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(x||(x={}));var ne,oe=e=>{var{value:t,date:r,suffix:a,prefix:n}=e,o="",c="";if(n&&(o=ee("conversation_detail.message_list.".concat(n.type))+(void 0===n.separator?"  ":n.separator)),a){var i=a.type===Y.Time?ae(r):"";c=(void 0===a.separator?", ":a.separator)+i}return o+t+c};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(ne||(ne={}));var ce=(e,t)=>{var{noTodayFlag:r,noTimeFlag:a,needFullFormat:n,onlyKeepDate:o,isConvPreview:c}=t||{},i=te.create(e);if(n)return oe({value:i.format("LHD"),date:i,suffix:{type:Y.Time}});if(o)return i.format("LHD");var _=["tw","cn"].includes(te.locale.current),s=((e,t)=>{var r=new Date,a=new Date(e);if(t){var n=r-a,o=(new Date).setHours(0,0,0,0);if(n<=6048e5&&n>=r.getTime()-o+864e5)return ne.ThisWeek}if(r.getFullYear()===a.getFullYear()){if(r.getMonth()===a.getMonth()){var c=r.getDate(),i=a.getDate();return c===i?ne.Today:c-1===i?ne.Yesterday:ne.ThisMonth}return ne.ThisYear}return ne.NONE})(e,c);switch(s){case ne.Today:var l=r?void 0:{type:w.Today},u={type:Y.Time,separator:""};return oe({value:"",date:i,prefix:l,suffix:u});case ne.Yesterday:var E={type:w.Yesterday},d=a?void 0:{type:Y.Time,separator:""};return oe({value:"",date:i,prefix:E,suffix:d});case ne.ThisWeek:return ee("common.".concat(x[new Date(e).getDay()]));case ne.ThisMonth:case ne.ThisYear:var T=a?void 0:{type:Y.Time};return oe({value:i.format(c?_?"MM/DD":"DD/MM":"LHDS"),date:i,suffix:T});default:var S=a?void 0:{type:Y.Time};return oe({value:i.format(c?_?"YY/MM/DD":"DD/MM/YY":"LHD"),date:i,suffix:S})}},ie=(e,t="")=>te.create(e).format(t||"YYYY-MM-DD hh:mm"),_e=e=>{var{created_at:t,created_timestamp:r}=e;return ce(t||1e3*r,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},se=(e,t)=>te.create(e).format("LHD")===te.create(t).format("LHD"),le={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},ue=(e,t)=>{var r=1e3*e;switch(t){case"time":var a=te.create(r);return ae(a);case"date":var n=new Date,o=new Date(r);if(n.getFullYear()===o.getFullYear()){if(n.getMonth()===o.getMonth()){var c=n.getDate(),i=o.getDate();if(c===i)return ee("conversation_detail.message_list.today");if(c-1===i)return ee("conversation_detail.message_list.yesterday");if(c-i<7){var _=o.getDay();return ee("common.".concat(le[_]))}return te.create(r).format("LHDS")}return te.create(r).format("LHDS")}return te.create(r).format("LHD")}},Ee=c(661),de=c.n(Ee),Te=e=>0===e||1===e?"one":e>=1e6?"many":"other",Se=e=>1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other",pe=e=>e<=1?"one":"other",fe={fr:Te,pl:Se,default:pe},me={fr:(e,t)=>"".concat(Te(e),".").concat(Te(t)),pl:(e,t)=>"".concat(Se(e),".").concat(Se(t)),default:(e,t)=>"".concat(pe(e),"_").concat(pe(t))},Oe=["fr","pl"],ge=(e,t,r)=>{var a=de().language||"en",n=Oe.includes(a)?a:"default";return void 0!==r?"".concat(e,"_").concat(me[n](t,r)):"".concat(e,"_").concat(fe[n](t))},ve=(e,t)=>{var r=t||window.location.search,a=null;if(r){var n=r.indexOf("?")+1,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");a=r.substr(n).match(o)}return a?unescape(a[2]):null},Pe=["hans","hant"],Me=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],Re=e=>"".concat(e[0].toUpperCase()).concat(e.substring(1)),Ce=e=>{if(e.includes("-")){var t=e.split("-");return Pe.includes(t[1])?"".concat(t[0],"-").concat(Re(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},he=e=>{var t=(e||"en").toLowerCase(),r="en";for(var a of Me)if(a.includes(t)){r=Ce(a);break}return r},Ae=e=>{var t=he(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},Ie={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},Ne=e=>{var t=he(e);return Ie[t]||"default"},ye=(e,t=200,r=1e3)=>{var a,n=Date.now();return(...o)=>{a&&(clearTimeout(a),a=null),Date.now()-n>r?(e(...o),n=Date.now()):a=window.setTimeout((()=>{e(...o),n=Date.now()}),t)}},Ge=function(e,t,r={}){var a,n,o,c=null,i=0,_=function(){i=!1===r.leading?0:(new Date).getTime(),c=null,o=e.apply(a,n),c||(a=n=null)};return function(...s){var l=(new Date).getTime();i||!1!==r.leading||(i=l);var u=t-(l-i);return a=this,n=s,u<=0||u>t?(c&&(clearTimeout(c),c=null),i=l,o=e.apply(a,n),c||(a=n=null)):c||!1===r.trailing||(c=window.setTimeout(_,u)),o}},De=e=>((e,t)=>{var{superType:r,secondaryType:a}=t,n=e.find((e=>e.name===r));if(n){var o=n.children;return o.length&&o.find((e=>e.name===a))||!1}return!1})(e,{superType:"MiniChat-Unreplied-Filter",secondaryType:"modal"}),Le=c(349),be=c.n(Le),we={getItem:(e,t)=>{try{var r=window.localStorage.getItem(e);return null==r?r:t?JSON.parse(r):r}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:(e,t,r)=>{try{var a=r?JSON.stringify(t):t;window.localStorage.setItem(e,a)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},Ye=(e,t=!1)=>t?we.getItem(e):be().getItem(e),xe=(e,t)=>be().setItem(e,t),Fe=(e,t)=>t?we.removeItem(e):be().removeItem(e),Ue=be().supports(be().INDEXEDDB)||be().supports(be().WEBSQL)?1e3:100,ke=c(95).t;function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MSG_TYPE_TEXT:Qe,MSG_TYPE_IMAGE:je,MSG_TYPE_OFFER:Ve,MSG_TYPE_PRODUCT:qe,MSG_TYPE_ORDER:Ke,MSG_TYPE_STICKER:We,MSG_TYPE_NOTIFICATION:ze,MSG_TYPE_VOUCHER:Xe,MSG_TYPE_ITEM_LIST:Je,MSG_TYPE_FAQ:$e,MSG_TYPE_FAQ_QUESTION:Ze,MSG_TYPE_FAQ_LIVEAGENT:et,MSG_TYPE_FAQ_FEEDBACK:tt,MSG_TYPE_FAQ_UNSUPPORTED:rt,MSG_TYPE_FAQ_FEEDBACK_PROMPT:at,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:nt,MSG_TYPE_BUNDLE_MESSAGE:ot,MSG_TYPE_OPTION_PACK:ct,MSG_TYPE_SELECTED_OPTION:it,MSG_TYPE_VIDEO:_t,MSG_TYPE_IMAGE_WITH_TEXT:st,MSG_TYPE_RATE_CARD:lt,MSG_TYPE_NEW_FAQ:ut,MSG_TYPE_FAQ_CATEGORY_CHOICE:Et,MSG_TYPE_FAQ_QUESTION_LIST:dt,MSG_TYPE_FAQ_TYPE_CHOICE:Tt,MSG_TYPE_FAQ_CATEGORY_LIST:St,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:pt,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:ft,FAQ_TYPE_BOT_RESPONSE_MESSAGE:mt,MSG_TYPE_SHOPPING_CART:Ot,MSG_TYPE_CRM_ITEM_LIST:gt,MSG_TYPE_RR:vt,MSG_TYPE_CRM_ORDER_RATE:Pt}=t,{PENDING:Mt,REJECTED:Rt}=v,Ct="common.unsupported_message",ht={[et]:"faq.live_agent",[rt]:"faq.new_unsupport_input",[at]:"faq.feedback_prompt",[nt]:"faq.new_live_agent_prompt",[_t]:"conversation_detail.input_field.toolbar.video.tip",[st]:"conversation_list.conversation_cell.new_image_message"},At=e=>ke(ht[e]||Ct),It=[Je],Nt=[_t,rt,at,nt,st],yt=[je,ot,ft,Ve,qe,Ke,Xe,lt,We],Gt=[dt,Tt,St],Dt=({message:t,enableTranslation:r,locale:a,conversationShopId:n,currentSellerAccountId:o})=>{if(!t)return{text:ke(Ct)};var{type:c,content:i={},crm_message_preview:_={},message_option:s,source:l,send_status:u,custom_preview_text:E}=t,d=Ae(a);if(_.text)return{text:ar(_,d)};if(null!=i&&i.preview_text&&c===mt)return{text:i.preview_text};if(Lt(s,e.MSG_OPT_CENSORED_BLACKLIST))return{text:ke("common.blacklist.replaced_text")};if(c){var T,S,{text:p="",title:f,opening:m,caption:O,translation:g,product_name:v,sticker_name:P,chat_product_infos:M=[],products:R=[],rr_detail:C,user_id:h}=i||{},A=Qt(t,{isAgent:!1,shop_id:n}),I=((e,t,r,a)=>{var n,{live_agent_text:o=[],fixed_title:c,faq_type_choice_translation:i}=t||{};if(Nt.includes(e))n=o.length?wt(o,r):At(e);else if(Gt.includes(e))n=wt(e===Tt?i:c,r);else{var _=yt.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):It.includes(e)?"common.tips.recommended".concat(a?"":"_for_you"):"";n=_?"[".concat(ke(_),"]"):ke(Ct)}return n})(c,i,a,A);switch(c){case ut:case $e:S=m||ke("faq.no_set.chat_bot_title");break;case Qe:if(A)S=p;else{var N=Yt(i);S=!r||N||s===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(l)||2===u?p:(null==g?void 0:g.text)||p}break;case et:case Ze:case tt:case it:case ct:case Et:case pt:S=p||f;break;case _t:S="[".concat(I,"]");break;case st:S="[".concat(I,"] ").concat(O||f||p);break;case rt:case at:case nt:case dt:case Tt:case St:S=I;break;case qe:S="".concat(I," ").concat(v);break;case We:S=P?"[".concat(P,"]"):I;break;case Je:var y=M.map((e=>e.name)).join("; ");S="".concat(I," ").concat(y);break;case ze:var{notification_for_sender:G,notification_for_receiver:D,notifications_for_sender_hyperlink:L,notifications_for_receiver_hyperlink:b}=Ut(i||{},a);S="rr_entrance"===i.notification_type?A?L:b:A?G:D;break;case lt:S="".concat(I," ").concat(ke(A?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case Ve:var{status:w,products_count:Y,offer_price:x}=i||{};if(w)if(w===Mt){var F=ke("conversation_list.preview.offer_pending_".concat(A?"sender":"receiver"));S="".concat(I," ").concat(F,": ").concat(x," x ").concat(Y),A||(T=!0)}else{var U=w===Rt?"declined":w;S="".concat(I," ").concat(ke("conversation_detail.workstation.offer_panel.".concat(U)))}else S=I;break;case Ke:S="".concat(I," ").concat(R.map((e=>e.title)).join("; "));break;case Xe:var{type:k,rule_text:B,discount_text:H}=i||{};if(k){var Q="[".concat(ke("conversation_detail.workstation.voucher_panel.".concat(k,"_voucher")),"]");S="".concat(Q," ").concat(H,", ").concat(B)}else S=I;break;case Ot:S=ke("message.cart_reminder");break;case gt:var j,V,q,K=null!==(j=null==i?void 0:i.title)&&void 0!==j?j:{};S=(null===(V=K.translated_with_lang)||void 0===V||null===(q=V.find((e=>e.language===Ae(a))))||void 0===q?void 0:q.text)||K.text||ke(Ct);break;case vt:var{solution:W,status:z}=C,X=Bt({isBuyer:o===h,solution:W,status:z});S="[".concat(ke("label.return_and_refund"),"]").concat(X);break;case Pt:var J,$;S=(null==E||null===(J=E.translated_text)||void 0===J||null===($=J.find((e=>e.translated_language===Ae(a))))||void 0===$?void 0:$.translated_text)||(null==E?void 0:E.text)||ke(Ct),S=ar(E,d)||ke(Ct);break;default:S=I}return{text:S,isPendingReceivedOffer:T}}return{text:ke(Ct)}},Lt=(e,t)=>(e&t)===t,bt=(t={})=>Lt(t.message_option,e.MSG_OPT_DELETE),wt=(e=[],t)=>(e.find((e=>Ae(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())))||e.find((e=>"en"===e.lang))||{}).text,Yt=e=>{var{translation:t,mid:r={}}=e||{};if(!t)return!0;var{source_language:a=""}=r,{final:n,mid:o,target_language:c="",source_language:i=""}=t||{},_=n?n.target_language:c,s=n?n.source_language:i,l=o?o.source_language:a;return l?l===_:s===_&&"unknown"!==s},xt=(e,t={})=>{var{updateMaxGeneralOptionHideTime:r=!0,updateMessageOption:a=!0}=t,{created_timestamp:n,message_option:o}=e||{},c=a?{last_message_option:o}:{};return He(He({},r?{max_general_option_hide_time:n}:{}),c)},Ft=e=>{var{crm_message_preview:t={}}=e;return t.text?{crm_message_preview:t}:{crm_message_preview:{}}},Ut=(e,t)=>{var{noti_text_of_all_languages:r=[]}=e;if(!r.length)return e;var a=r.find((e=>Ae(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())));if(a)return a;var n=r.find((e=>"en"===e.language));return n||e},kt=e=>{var{type:t,textContent:r,content:a}=e,n={};switch(t){case Ke:var{products:o}=r||{};n={products:o};break;case Xe:var{rule_text:c,discount_text:i,type:_}=r||{};n={rule_text:c,discount_text:i,type:_};break;case Ve:var{status:s,products_count:l,offer_price:u}=r||{};n={status:s,products_count:l,offer_price:u};break;case qe:n={product_name:a.product_name||(null==r?void 0:r.name)}}return He(He({},e),{},{content:He(He({},a),n)})},Bt=({isBuyer:e,status:t,solution:r})=>{var a=r===s.Return?"return":"return_refund",n=t===_.Submit?"proposed":t===_.Refund?"succeed":"rejected";return ke("rr_message_title.".concat(e?"buyer":"seller",".").concat(a,".").concat(n))},Ht=c(480),Qt=(e={},t={})=>{var{isAgent:r,to_tob_user_id:a,shop_id:n}=t,{from_id:o,to_shop_id:c}=e;return r?o!==a:c!==n},jt=e=>e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&"),Vt=()=>Math.ceil(Date.now()/1e3).toString(),qt=(e,t,r,a)=>t?e:e||a&&!!r,Kt=e=>{var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},Wt=(e,t,r)=>{var a=document.createElement("pre"),n=(e=>"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px"))(e);if(a.id="chat-text-pre",a.setAttribute("style",n),a.innerText=t,r){var o=Kt(r);a.appendChild(o)}return a},zt=(e,t="height")=>{document.body.appendChild(e);var r=e.getBoundingClientRect(),a="height"===t?r.height:r.width;return document.body.removeChild(e),a},Xt=(e,t,r)=>{var a=Wt(r,e),n=Kt(t),o=Wt(r,e,t),c=zt(a);return{conflict:c!==zt(o),multiLine:c>38,timeWidth:zt(n,"width"),widthConflict:zt(o,"width")>zt(a,"width")}},Jt=c(95).t,$t=(e,t)=>"tw"===e.toLowerCase()&&t===M.COIN_CASHBACK,Zt=e=>{var{country:t,reward:{value:r,type:a,discount_type:n}}=e,o=n===P.PERCENTAGE?"".concat(r,"% ").concat($t(t,a)?"":Jt("common.label.off")):z(r,t);return a===M.COIN_CASHBACK&&(o="".concat(o," ").concat(Jt("conversation_detail.workstation.voucher_panel.coins_cashback"))),o},er=(e,t)=>z(e,t,{withUnit:e>=1e4}),tr="message.voucher.rule",rr=e=>{var{country:t,min_basket_size:r,reward:{max_capped_amount:a,type:n}}=e,o=er(r,t),c=Jt("".concat(tr,".min_spend"),{spend:o});return"number"==typeof a&&(c=$t(t,n)?Jt("".concat(tr,".min_spend_max_cap_tw"),{spend:o,cap:a}):Jt("".concat(tr,".min_spend_max_cap"),{spend:o,cap:er(a,t)})),c},ar=(e,t)=>{var r,a,n,o;return(null==e||null===(r=e.translated_with_lang)||void 0===r||null===(a=r.find((e=>e.language===t)))||void 0===a?void 0:a.text)||(null==e||null===(n=e.translated_text)||void 0===n||null===(o=n.find((e=>e.translated_language===t)))||void 0===o?void 0:o.translated_text)||(null==e?void 0:e.text)||""},nr=c(95)})(),i})(),e.exports=a(r(37725),r(14906),r(58518),r(69483))},29494:function(e,t,r){"use strict";e.exports=r(66069)}}]);